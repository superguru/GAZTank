<h1>GAZ Tank</h1>
<p><img alt="GitHub release" src="https://img.shields.io/github/v/release/superguru/GAZTank"/><br/>
<img alt="License" src="https://img.shields.io/github/license/superguru/GAZTank"/><br/>
<img alt="Python" src="https://img.shields.io/badge/python-3.11+-blue.svg"/><br/>
<img alt="Issues" src="https://img.shields.io/github/issues/superguru/GAZTank"/><br/>
<img alt="PRs Welcome" src="https://img.shields.io/badge/PRs-welcome-brightgreen.svg"/></p>
<div class="image-text-row">
<img alt="GAZ Tank Logo" class="no-lazy" src="../images/gaztank_logo_75x75.webp"/>
<p>
A modern, single-page web application built with native CSS Grid, Flexbox, and vanilla JavaScript - no frameworks or libraries required.
<br/><em>Some JS libraries are used for optional features, which will not be loaded at all in the site if turned off, for example Prism and Mermaid<em>
</em></em></p>
</div>
<pre><code class="language-textfile">Note:
------
Have a look a the README.md file to see how you can add images and the CSS class used to achieve the text alignment with the image as shown here.
</code></pre>
<h2>Features</h2>
<h3>Navigation &amp; Routing</h3>
<ul>
<li><strong>Multi-level Nested Navigation</strong> (up to 4 levels deep)</li>
<li><strong>Collapsible Sidebar</strong> with toggle button (◀/▶)<ul>
<li>State persists in sessionStorage</li>
<li>Smooth transitions with content area expansion</li>
</ul>
</li>
<li><strong>Expandable/Collapsible Tree Menu</strong> with smart auto-expansion<ul>
<li>Click parent items with children to expand automatically</li>
<li>Already-expanded items load content without collapsing</li>
<li>Top-level parent remains highlighted when sub-page is active</li>
</ul>
</li>
<li><strong>URL Hash Routing</strong> for direct linking and shareable URLs</li>
<li><strong>Browser History Support</strong> (back/forward buttons work)</li>
<li><strong>Active Page Indicators</strong>:<ul>
<li>Top-level parent pages: Orange background (#E58822), no hand icon</li>
<li>Active pages: Orange text (#E58822) OR orange background with white hand icon (☞)</li>
<li>Hand icon only appears on the actual active page, not parent nodes</li>
<li>Hover: Light grey background overlay</li>
</ul>
</li>
<li><strong>Persistent Menu State</strong> across page refreshes</li>
<li><strong>Fixed Header &amp; Footer</strong> for app-like layout<ul>
<li>Header and footer stay frozen while content scrolls</li>
<li>Main content area positioned between header and footer</li>
</ul>
</li>
</ul>
<h3>Content Management</h3>
<ul>
<li><strong>Dynamic Content Loading</strong> from separate HTML files</li>
<li><strong>Hashtag System</strong> for content categorization:<ul>
<li>Add <code>&lt;div data-hashtags="tag1, tag2, tag3"&gt;&lt;/div&gt;</code> to any content file</li>
<li>Hashtags display in compact area at bottom of content</li>
<li>Right-aligned with golden yellow color (#FFC845)</li>
<li>Minimal height with subtle divider line</li>
<li>Ready for future click functionality (filtering, search)</li>
</ul>
</li>
<li><strong>Advanced Table of Contents</strong> with multi-level collapsibility:<ul>
<li>Two-column layout (content on left, collapse button on right)</li>
<li>Separate "Contents" and "Navigation" sections with independent collapse</li>
<li>Contents: Extracts h2, h3, and h4 headings from current page</li>
<li>Navigation: Shows child pages from navigation hierarchy (excludes current page)</li>
<li>Collapsible h2 sections with h3/h4 children, h3 sections with h4 children (▾/▸ arrows)</li>
<li>Entire TOC collapsible with visual ellipsis indicator when collapsed</li>
<li>Smart default states: Contents expanded if present, Navigation collapsed unless no Contents</li>
<li>Deep linking support: Share links to specific headings (#page:heading-id)</li>
<li>Automatically generates IDs for all h2, h3, and h4 headings</li>
<li>Skips headings ending with colon (:) to avoid category header clutter</li>
<li>Clickable ellipsis to expand collapsed TOC</li>
<li>Per-page state persistence using sessionStorage</li>
<li>Excludes current page from its own TOC</li>
</ul>
</li>
<li><strong>SEO-Friendly Breadcrumbs</strong> with Schema.org markup<ul>
<li>Compact design with reduced spacing</li>
</ul>
</li>
<li><strong>No Duplicate Loading</strong> - smart caching prevents unnecessary reloads</li>
<li><strong>Comprehensive SEO Implementation</strong>:<ul>
<li>Dynamic page-specific meta tags (title, description, keywords, robots)</li>
<li>Open Graph tags for social media sharing</li>
<li>Twitter Card tags for tweet previews</li>
<li>JSON-LD structured data (WebSite schema)</li>
<li>Canonical URLs for each page</li>
<li>Configurable SEO keywords and robots directive</li>
<li>sitemap.xml with all pages and priorities</li>
<li>robots.txt with search engine directives</li>
<li>humans.txt with team attribution</li>
<li>Resource preloading for performance</li>
<li>Comprehensive documentation in docs/SEO_IMPLEMENTATION.md</li>
</ul>
</li>
</ul>
<h3>Layout &amp; Design</h3>
<ul>
<li><strong>CSS Grid Layout</strong> for main page structure</li>
<li><strong>Flexbox Components</strong> for flexible layouts</li>
<li><strong>Responsive Design</strong> with mobile breakpoints</li>
<li><strong>Clean Sidebar Navigation</strong>:<ul>
<li>Simple design with orange left border (3px)</li>
<li>White text with orange highlighting for active items</li>
<li>No tree lines for easier maintenance</li>
<li>Arrow indicators (▾/▸) for expandable sections</li>
</ul>
</li>
<li><strong>Custom Color Scheme</strong>:<ul>
<li>Teal background (#286C76)</li>
<li>Orange accent (#E58822)</li>
<li>Gold links (#FFD700) / Silver visited links (#C0C0C0)</li>
<li>Grey TOC collapse indicator (rgba(128, 128, 128, 0.2))</li>
<li>Golden yellow hashtags (#FFC845)</li>
<li>Subtle dividers (rgba(255, 255, 255, 0.1))</li>
</ul>
</li>
<li><strong>Dark Sidebar</strong> with professional styling and smooth transitions<ul>
<li>Orange left border extends full height</li>
<li>Sidebar height extended to eliminate visual gaps</li>
</ul>
</li>
</ul>
<h3>Deployment &amp; Development</h3>
<ul>
<li><strong>Smart Package Script</strong> with file modification checking:<ul>
<li>Pre-flight validation with GZLint checks (HTML validation, heading checks, JS linting)</li>
<li>Markdown to HTML conversion for documentation</li>
<li>Automatic sitemap generation</li>
<li>Creates timestamped packages in publish/packages/</li>
<li>Automatic backup system (keeps last 5 packages as zips)</li>
<li>Orphaned file cleanup ensures no stale content</li>
<li>Copies from src/ to publish/staging/</li>
<li>GZLint validates HTML structure (malformed tags, duplicate h1s, missing h1s)</li>
<li>Processes all files including subdirectories recursively</li>
</ul>
</li>
<li><strong>Automated FTP/FTPS Deploy Script</strong>:<ul>
<li>TOML configuration (config/deploy.toml) with sensitive data gitignored</li>
<li>Timestamped upload subdirectories with random postfix for organization</li>
<li>Configurable date format for upload directories</li>
<li>Supports both FTPS (secure) and regular FTP</li>
<li>Custom port configuration</li>
<li>Uploads latest package from publish/packages/</li>
<li>[Y/n] confirmation prompts before deployment</li>
<li>Checks if package is older than source files</li>
<li>Offers to run package script if sources are newer</li>
<li>Real-time upload progress bar with percentage and MB transferred</li>
<li>Shows final upload location path</li>
</ul>
</li>
<li><strong>Enhanced Development Server</strong> with:<ul>
<li>No-cache headers for fresh reloads during development</li>
<li>Interactive admin commands (type <code>stop</code> or <code>quit</code> to shutdown)</li>
<li>Graceful shutdown handling</li>
<li>Auto-detection of src/ directory</li>
<li>Default port 7190 with custom port support</li>
</ul>
</li>
<li><strong>Comprehensive Site Setup System</strong>:<ul>
<li>Interactive setup wizard for complete site configuration</li>
<li>Smart configuration management with config/site.toml as source of truth</li>
<li>Force-apply mode preserves existing configuration values (--force-apply)</li>
<li>Comment preservation in configuration files</li>
<li>Descriptive color naming (brand_button_color, body_text_color, etc.)</li>
<li>Automatic CSS variable generation from configuration</li>
<li>Updates meta tags (keywords, robots directive) from configuration</li>
<li>Updates JSON-LD structured data from configuration</li>
<li>Backup management with automatic cleanup (keeps last 5 backups)</li>
<li>Cross-platform support with both .cmd and .sh scripts</li>
<li>Documentation of config-driven vs hardcoded items in dev/00TODO/CONFIG_DRIVEN_INDEX.md</li>
</ul>
</li>
<li><strong>Markdown to HTML Converter</strong>:<ul>
<li>Converts documentation markdown files to HTML for web viewing</li>
<li>TOML-based configuration (config/md_to_html.toml)</li>
<li>Multiple file groups with separate output directories</li>
<li>Automatic integration into package pipeline</li>
<li>Supports markdown extensions (tables, code highlighting, TOC)</li>
</ul>
</li>
<li><strong>Update All Script</strong> for complete site refresh:<ul>
<li>Runs setup with force-apply to regenerate all config-driven files</li>
<li>Converts all markdown documentation to HTML</li>
<li>Generates fresh sitemap</li>
<li>Single command updates entire site</li>
</ul>
</li>
</ul>
<h2>Project Structure</h2>
<p>For a comprehensive directory structure with detailed descriptions, see <a href="#setup/PROJECT_STRUCTURE">PROJECT_STRUCTURE.md</a>.</p>
<h3>Quick Overview:</h3>
<ul>
<li><strong><code>src/</code></strong> - Source files (HTML, CSS, JS, images, content)</li>
<li><strong><code>utils/</code></strong> - Python utility modules (deploy, package, sitemap, toc, etc.)</li>
<li><strong><code>config/</code></strong> - TOML configuration files (site settings, deployment)</li>
<li><strong><code>docs/</code></strong> - Markdown documentation (converted to HTML for the site)</li>
<li><strong><code>publish/</code></strong> - Build outputs (staging, packages, backups) - gitignored</li>
<li><strong><code>scripts/</code></strong> - Cross-platform launcher scripts (.cmd for Windows, .sh for Linux/Mac)</li>
<li><strong><code>dev/</code></strong> - Development tools (linter, image processing, TODO tracking)</li>
</ul>
<h2>Getting Started</h2>
<h3>Site Configuration</h3>
<p>Before running the site, configure your branding and theme:</p>
<pre><code class="language-bash"># Interactive setup for development environment
python utils/setup/setup_site.py -e dev

# Force mode - skip prompts and apply current configuration
python utils/setup/setup_site.py -e dev --force

# Clean environment - delete all files in environment directory
python utils/setup/setup_site.py -e dev --clean

# Clean with force - skip confirmation prompt
python utils/setup/setup_site.py -e dev --clean --force
</code></pre>
<p>The setup wizard will help you configure:</p>
<ul>
<li>Site name, tagline, description, and author</li>
<li>Color theme with descriptive names (brand_button_color, body_text_color, etc.)</li>
<li>Layout dimensions and typography</li>
<li>SEO settings and analytics</li>
<li>Image references and branding</li>
</ul>
<h4>Setup Features:</h4>
<ul>
<li>Automatically copies modified files to the specified environment directory</li>
<li>Copies favicon and logo files to environment when configured</li>
<li>Generates manifest file listing all copied files with timestamps</li>
<li>Creates backup of configuration with manifest included</li>
<li>Respects file timestamps (only copies newer files unless <code>--force</code> is used)</li>
</ul>
<p>Configuration is stored in <code>config/site.toml</code> which serves as the source of truth.</p>
<h3>Running the Development Server</h3>
<p>The development server supports multiple environments (dev/staging/prod) configured in <code>config/pipeline.toml</code>.</p>
<h4>Windows:</h4>
<pre><code class="language-bash">scripts\gzserve.cmd -e dev                # Development environment
scripts\gzserve.cmd -e staging -p 8080    # Staging with custom port
scripts\gzserve.cmd -e prod               # Production environment
</code></pre>
<h4>Linux/Unix/Mac:</h4>
<pre><code class="language-bash">./scripts/gzserve.sh -e dev               # Development environment
./scripts/gzserve.sh -e staging -p 8080   # Staging with custom port
./scripts/gzserve.sh -e prod              # Production environment
</code></pre>
<h4>Direct Python Module:</h4>
<pre><code class="language-bash">python -m utils.gzserve -e dev             # Development (port from config)
python -m utils.gzserve -e staging -p 8080 # Staging with custom port
</code></pre>
<h5>Default Ports (configured in <code>config/pipeline.toml</code>):</h5>
<ul>
<li>Development: <a href="http://localhost:7190">http://localhost:7190</a></li>
<li>Staging: <a href="http://localhost:7191">http://localhost:7191</a></li>
<li>Production: <a href="http://localhost:7192">http://localhost:7192</a></li>
</ul>
<h4>Server Commands</h4>
<ul>
<li>Type <code>stop</code>, <code>quit</code>, or <code>exit</code> to gracefully shutdown the server</li>
<li>Type <code>help</code> to see available commands</li>
<li>Press Ctrl+C as a fallback to stop the server</li>
</ul>
<h3>Generating Sitemap</h3>
<h4>Windows:</h4>
<pre><code class="language-bash">scripts\generate_sitemap.cmd
</code></pre>
<h4>Linux/Unix/Mac:</h4>
<pre><code class="language-bash">./scripts/generate_sitemap.sh
</code></pre>
<h4>Direct Python:</h4>
<pre><code class="language-bash">python utils/sitemap/
</code></pre>
<h3>Packaging the Site</h3>
<p>The package script runs a complete build pipeline with validation:</p>
<pre><code class="language-bash"># GAZ Tank
scripts\package.cmd

# Windows
scripts\package.cmd

# Linux/Mac
./scripts/package.sh

# Or directly as a module
python -m package
</code></pre>
<p>The package script pipeline:</p>
<ol>
<li><strong>Pre-flight Validation</strong>: Run GZLint checks on HTML/CSS/JS files</li>
<li><strong>Markdown Conversion</strong>: Convert documentation to HTML for web viewing</li>
<li><strong>Sitemap Generation</strong>: Create fresh sitemap.xml</li>
<li><strong>Orphan Cleanup</strong>: Remove outdated files from previous packages</li>
<li><strong>File Copying</strong>: Copy only modified/new files from src to publish/staging</li>
<li><strong>Archive Creation</strong>: Create timestamped zip in publish/packages</li>
<li><strong>Backup Management</strong>: Keep the last 5 package backups</li>
</ol>
<h3>Complete Site Build</h3>
<p>Run the complete pipeline from start to finish with a single command:</p>
<pre><code class="language-bash"># Windows
scripts\gzbuild.cmd -e dev

# Linux/Mac
./scripts/gzbuild.sh -e dev
</code></pre>
<p>This executes the full pipeline in order:</p>
<ol>
<li><strong>clean</strong> - Identify orphaned files in target environment (no deletion by default)</li>
<li><strong>compose</strong> - Generate source content from templates</li>
<li><strong>setup --force</strong> - Apply site configuration and regenerate config-driven files</li>
<li><strong>gzlint</strong> - Run linting checks on all content</li>
<li><strong>normalise</strong> - Normalize markdown file formatting</li>
<li><strong>generate</strong> - Generate fresh content files</li>
<li><strong>sitemap</strong> - Generate sitemap.xml</li>
<li><strong>toc</strong> - Generate table of contents</li>
<li><strong>package</strong> - Sync, minify, and archive site files</li>
<li><strong>deploy</strong> - Deploy to target environment</li>
</ol>
<p>Perfect for a complete site rebuild and deployment.</p>
<p><strong>Note:</strong> The clean step identifies orphaned files but doesn't delete them by default. Use <code>scripts\gzbuild.cmd -e dev --clean-orphaned</code> or <code>--clean-all</code> separately if you need to remove files (requires confirmation prompt).</p>
<h3>Deploying to FTP Server</h3>
<h4>First-time setup</h4>
<ol>
<li><p>Copy the configuration template:</p>
<pre><code class="language-bash">copy config\deploy.example.toml config\deploy.toml
</code></pre>
</li>
<li><p>Edit <code>config/deploy.toml</code> with your FTP details:</p>
<pre><code class="language-toml">[ftp]
server = "ftp.example.com"
port = 21
use_ftps = true
username = "your-username"
password = "your-password"
target_dir = "/public_html"

# Optional: Upload subdirectory configuration
upload_subdir_fmt = "%Y%m%d_%H%M%S_%j"  # Timestamp format
upload_subdir_postfix_len = 5            # Random postfix length (1-10)
</code></pre>
</li>
</ol>
<h4>Deploy</h4>
<pre><code class="language-bash"># GAZ Tank
scripts\deploy.cmd

# GAZ Tank
./scripts/deploy.sh

# GAZ Tank
python utils/deploy/
</code></pre>
<p>The deployment script will:</p>
<ol>
<li>Load FTP configuration from config/deploy.toml</li>
<li>Find the latest package in publish/packages/</li>
<li>Check if package is older than source files</li>
<li>Offer to run package script first if sources are newer</li>
<li>Show confirmation prompt with package details</li>
<li>Create timestamped upload subdirectory on server (with random postfix)</li>
<li>Upload via FTPS (or FTP) with real-time progress bar</li>
<li>Display final upload location with full path</li>
</ol>
<h4>Configuration Options</h4>
<ul>
<li><code>port</code>: FTP server port (default: 21)</li>
<li><code>use_ftps</code>: Set to <code>true</code> for secure FTPS, <code>false</code> for regular FTP</li>
<li><code>upload_subdir_fmt</code>: Python strftime format for subdirectories (default: "%Y%m%d_%H%M%S_%j")<ul>
<li>Examples: "%Y%m%d" → 20251019, "%Y-%m-%d_%H%M" → 2025-10-19_1430</li>
<li>Set to "" to disable subdirectory creation</li>
</ul>
</li>
<li><code>upload_subdir_postfix_len</code>: Length of random alphanumeric postfix (1-10, default: 5)</li>
<li>Common ports: 21 (FTP/FTPS), 990 (implicit FTPS)</li>
</ul>
<h4>Upload Organization</h4>
<p>Files are uploaded to timestamped subdirectories for better organization:</p>
<pre><code>/public_html/20251019_143025_292_a7k3x/package_20251019_143012.zip
             └─ timestamp ──┘ └postfix┘
</code></pre>
<h2>Adding Content</h2>
<h3>Creating a New Page</h3>
<ol>
<li><p>Create a new HTML file in <code>src/content/</code>:</p>
<pre><code class="language-html">&lt;!-- src/content/my_new_page.html --&gt;

&lt;!-- Optional: Add hashtags for categorization --&gt;
&lt;div data-hashtags="category, topic, keyword"&gt;&lt;/div&gt;

&lt;h2&gt;My New Page&lt;/h2&gt;
&lt;p&gt;Content goes here...&lt;/p&gt;

&lt;!-- Add h2, h3, and h4 headings for automatic TOC generation --&gt;
&lt;h2&gt;Major Section&lt;/h2&gt;
&lt;p&gt;Major section content...&lt;/p&gt;

&lt;h3&gt;Section 1&lt;/h3&gt;
&lt;p&gt;Section content...&lt;/p&gt;

&lt;h4&gt;Subsection 1.1&lt;/h4&gt;
&lt;p&gt;Subsection content...&lt;/p&gt;

&lt;h3&gt;Section 2&lt;/h3&gt;
&lt;p&gt;More content...&lt;/p&gt;

&lt;!-- Category headers ending with colon will be excluded from TOC --&gt;
&lt;h3&gt;Category:&lt;/h3&gt;
&lt;p&gt;This heading won't appear in the TOC because it ends with ":"&lt;/p&gt;
</code></pre>
</li>
<li><p>Add a link in <code>src/index.html</code> sidebar:</p>
<pre><code class="language-html">&lt;li&gt;
    &lt;a href="#" data-content="my_new_page"&gt;My New Page&lt;/a&gt;
&lt;/li&gt;
</code></pre>
</li>
</ol>
<p><strong>Note:</strong> h2, h3, and h4 headings are automatically extracted and added to the page's Table of Contents. H2 sections with h3/h4 children and h3 sections with h4 children are collapsible in the TOC. Headings ending with colon (:) are excluded from TOC to avoid category header clutter. The TOC has two separate sections: "Contents" (for headings) and "Navigation" (for child pages), each independently collapsible.</p>
<h3>Creating Nested Pages</h3>
<p>For multi-level navigation, wrap items with <code>has-children</code> class:</p>
<pre><code class="language-html">&lt;li class="has-children"&gt;
    &lt;div class="nav-item-wrapper"&gt;
        &lt;a href="#" data-content="parent_page"&gt;Parent Page&lt;/a&gt;
        &lt;button class="nav-toggle" aria-label="Toggle submenu"&gt;▼&lt;/button&gt;
    &lt;/div&gt;
    &lt;ul class="nav-level-2"&gt;
        &lt;li&gt;
            &lt;a href="#" data-content="child_page"&gt;Child Page&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/li&gt;
</code></pre>
<h2>Direct Linking</h2>
<p>Share direct links to any page or specific heading using URL hashes:</p>
<h3>Page Links</h3>
<pre><code>http://yoursite.com/#home
http://yoursite.com/#runs_campaign1
http://yoursite.com/#runs_campaign1_mission2_part1
</code></pre>
<h3>Heading Links (Deep Linking)</h3>
<pre><code>http://yoursite.com/#runs_campaign1_mission3:introduction
http://yoursite.com/#runs_campaign1_mission3:game-settings
</code></pre>
<p>Format: <code>#page-name:heading-id</code> where heading-id is auto-generated from heading text (lowercase, hyphens, special chars removed).</p>
<h2>Technical Details</h2>
<h3>Technologies Used</h3>
<ul>
<li><strong>HTML5</strong> - Semantic markup</li>
<li><strong>CSS3</strong> - Grid, Flexbox, custom properties</li>
<li><strong>Vanilla JavaScript</strong> - No frameworks</li>
<li><strong>Python</strong> - Deployment automation and dev server</li>
</ul>
<h3>Browser Support</h3>
<ul>
<li>Modern browsers (Chrome, Firefox, Edge, Safari)</li>
<li>CSS Grid and Flexbox required</li>
<li>ES6+ JavaScript (async/await, arrow functions)</li>
</ul>
<h3>Key Features Implementation</h3>
<h4>CSS Grid Layout</h4>
<pre><code class="language-css">body {
    display: grid;
    grid-template-rows: auto 1fr auto;  /* header, main, footer */
}

.main-container {
    display: grid;
    grid-template-columns: 250px 1fr;  /* sidebar, content */
}
</code></pre>
<h4>Hash Routing</h4>
<pre><code class="language-javascript">window.addEventListener('hashchange', function() {
    const contentKey = window.location.hash.slice(1);
    loadContent(contentKey);
});
</code></pre>
<h4>Table of Contents Generation</h4>
<p>The TOC is automatically generated with a two-column layout:</p>
<ul>
<li>Left column: Contains "Contents" and "Navigation" sections</li>
<li>Right column: Contains the master collapse button</li>
</ul>
<p>Content Sources:</p>
<ul>
<li><strong>Contents Section</strong>: h2, h3, and h4 headings from current page content</li>
<li><strong>Navigation Section</strong>: Child pages from navigation hierarchy (excludes current page)</li>
</ul>
<p>Features:</p>
<ul>
<li>Three levels of collapsibility:<ol>
<li>Master TOC collapse (button in right column)</li>
<li>Contents section collapse (independent)</li>
<li>Navigation section collapse (independent)</li>
</ol>
</li>
<li>H2 sections with h3/h4 children and h3 sections with h4 children are collapsible (▾/▸ arrows)</li>
<li>Visual ellipsis indicator (···) when TOC is collapsed</li>
<li>Clickable ellipsis to re-expand TOC</li>
<li>Smart defaults: Contents expanded by default, Navigation collapsed unless no Contents</li>
<li>State persists per page per section using sessionStorage</li>
<li>Smooth scroll to heading anchors with deep linking support</li>
<li>Automatically generates IDs for all h2, h3, and h4 headings</li>
<li>Excludes headings ending with colon (:) from TOC (useful for category headers)</li>
<li>Sub-page links trigger navigation</li>
</ul>
<h4>Schema.org Breadcrumbs</h4>
<pre><code class="language-html">&lt;nav aria-label="Breadcrumb"&gt;
    &lt;ol itemscope itemtype="https://schema.org/BreadcrumbList"&gt;
        &lt;li itemprop="itemListElement" itemscope 
            itemtype="https://schema.org/ListItem"&gt;
            &lt;a href="#" itemprop="item"&gt;
                &lt;span itemprop="name"&gt;Home&lt;/span&gt;
            &lt;/a&gt;
            &lt;meta itemprop="position" content="1"&gt;
        &lt;/li&gt;
    &lt;/ol&gt;
&lt;/nav&gt;
</code></pre>
<h2>File Naming Conventions</h2>
<p>Content files use descriptive names with underscores for hierarchy:</p>
<ul>
<li><code>mods.html</code> - Top-level page</li>
<li><code>mods_7_days_to_die.html</code> - Child page</li>
<li><code>runs_campaign1_mission2_part1.html</code> - Deeply nested page</li>
</ul>
<p><strong>Note:</strong> The <code>Z0*_</code> prefix convention was removed for cleaner, more descriptive filenames.</p>
<h2>Customization</h2>
<h3>Colors and Theming</h3>
<p>The site uses a configuration-driven color system. Edit <code>config/site.toml</code> to customize colors:</p>
<pre><code class="language-toml">[theme]
# Sidebar Colors - Navigation sidebar
sidebar_background_color = "#062323"
sidebar_highlight_background_color = "#0066CC"
sidebar_hover_background_color = "#35A2A2"

# Content Colors - Main content area
content_text_color = "#FFFFFF"
content_background_color = "#0A3A3A"

# Global Link Colors - All link elements
link_text_color = "#0066CC"
link_visited_text_color = "#6F42C1"
link_hover_text_color = "#0052A3"

# Text Colors - General typography
body_text_color = "#212529"
muted_text_color = "#6C757D"

[seo]
keywords = "gaming, mods, campaigns, 7 days to die, game walkthroughs"
robots_directive = "index, follow"
canonical_base = "https://mygaztank.com/"
</code></pre>
<p>After updating colors, run the setup script to apply changes:</p>
<pre><code class="language-bash">python utils/setup/setup_site.py -e dev --force
</code></pre>
<p>This automatically generates CSS variables and updates all relevant files.</p>
<h3>Sidebar Width</h3>
<pre><code class="language-css">.main-container {
    grid-template-columns: 250px 1fr;  /* Change 250px */
}
</code></pre>
<h3>Package Backup Count</h3>
<p>Edit <code>utils/package/packager.py</code>:</p>
<pre><code class="language-python">cleanup_old_backups(packages_dir, max_backups=5)  # Change 5
</code></pre>
<h3>Configuration Management</h3>
<p>The site uses <code>config/site.toml</code> (TOML format) as the single source of truth for all configuration. Key features:</p>
<ul>
<li><strong>Descriptive color names</strong>: <code>brand_button_color</code> instead of ambiguous <code>primary_color</code></li>
<li><strong>Comment preservation</strong>: Setup script preserves user comments in configuration</li>
<li><strong>Force-apply mode</strong>: <code>--force-apply</code> applies current config without prompts</li>
<li><strong>Automatic backup</strong>: Configuration changes are automatically backed up</li>
<li><strong>SEO configuration</strong>: Keywords, robots directive, canonical URLs all configurable</li>
<li><strong>Cross-platform</strong>: Works on Windows (.cmd) and Linux/Unix (.sh) systems</li>
<li><strong>Configuration tracking</strong>: <code>dev/00TODO/CONFIG_DRIVEN_INDEX.md</code> documents what's config-driven vs hardcoded</li>
</ul>
<h3>Adding Hashtags to Content</h3>
<p>Add an empty div with <code>data-hashtags</code> attribute anywhere in your content file:</p>
<pre><code class="language-html">&lt;div data-hashtags="gaming, mods, 7DaysToDie"&gt;&lt;/div&gt;
</code></pre>
<p>Hashtags will automatically:</p>
<ul>
<li>Display at the bottom of the content area</li>
<li>Render with <code>#</code> prefix (e.g., #gaming, #mods)</li>
<li>Appear right-aligned in golden yellow (#FFC845)</li>
<li>Show in a compact, minimal-height area with subtle divider</li>
</ul>
<h2>Recent Updates</h2>
<h3>October 2025</h3>
<h4>TOC Enhancements</h4>
<ul>
<li><strong>H2 Support</strong>: Table of Contents now includes h2 headings as top-level items</li>
<li><strong>Smart Filtering</strong>: Headings ending with colon (:) are automatically excluded from TOC</li>
<li><strong>Three-Level Hierarchy</strong>: Supports h2 &gt; h3 &gt; h4 nesting with proper indentation</li>
</ul>
<h4>Configuration System</h4>
<ul>
<li><strong>SEO Meta Tags</strong>: Added configurable <code>keywords</code> and <code>robots_directive</code> fields</li>
<li><strong>JSON-LD Updates</strong>: Description field now pulls from configuration</li>
<li><strong>Config Documentation</strong>: New <code>dev/00TODO/CONFIG_DRIVEN_INDEX.md</code> tracks what's config-driven</li>
</ul>
<h4>GZLint Improvements</h4>
<ul>
<li><strong>HTML Validation</strong>: Detects malformed tags (mismatched open/close tags)</li>
<li><strong>Subdirectory Support</strong>: Recursively processes all HTML files including nested folders</li>
<li><strong>H1 Validation</strong>: Checks for missing h1 tags and duplicate h1 tags per file</li>
</ul>
<h4>Documentation</h4>
<ul>
<li><strong>SEO Guide</strong>: Expanded <code>docs/SEO_IMPLEMENTATION.md</code> with analytics configuration examples</li>
<li><strong>Analytics Placeholders</strong>: Documented Plausible, Google Analytics 4, and Matomo integration</li>
</ul>
<h2>License</h2>
<p>© 2025 GAZ Tank. All rights reserved.</p>
<h2>Contributing</h2>
<p>This is a personal project. Feel free to fork and adapt for your own use.</p>
<div>
<br><br>
<p><em>This content was automatically generated from <code>README.md</code></em></p>
</div>